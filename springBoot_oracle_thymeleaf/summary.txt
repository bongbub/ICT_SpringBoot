
SpringBoot + Oracle + thymeleaf + JPA 방식
# mybatis 대신 JPA


DROP TABLE mvc_product_tbl CASCADE CONSTRAINTS;
CREATE TABLE mvc_product_tbl(
   id      number(5)    PRIMARY KEY,
   name    varchar2(50) NOT NULL,
   brand   varchar2(50) NOT NULL,
   madein  varchar2(50) NOT NULL,
   price   number(9)    NOT NULL
);

SELECT * FROM MVC_PRODUCT_TBL
 ORDER BY id ASC;

INSERT INTO mvc_product_tbl(id, name, brand, madein, price)
 VALUES(1, '김치냉장고', '삼성', 'korea', 1000000); 
INSERT INTO mvc_product_tbl(id, name, brand, madein, price)
 VALUES(2, '에어컨', '휘센', 'korea', 5500000); 
INSERT INTO mvc_product_tbl(id, name, brand, madein, price)
 VALUES(3, '트롬세탁기', 'LG', 'korea', 1200000); 
COMMIT; 



-- 시퀀스 생성(부트에서 product Insert시, id 자동 증가)
CREATE SEQUENCE PRODUCT_ID_SEQ			-- 시퀀스 명은 ProductDTO @SequenceGenerat
START WITH 1 NOCACHE ORDER;

DROP SEQUENCE PRODUCT_ID_SEQ

DELETE FROM mvc_product_tbl;

// 1. 시퀀스를 먼저 생성(부트에서 product INSERT시 id 자동증가) 후
// DB에서 아래의 시퀀스를 먼저 생성 후,  ProductDTO에서 전략을 추가한다.
//CREATE SEQUENCE PRODUCT_SEQ			-- 시퀀스 명은 ProductDTO @SequenceGenerator에서 선언한 sequenceName과 일치
//START WITH 1 NOCACHE ORDER;
// 2. ProductDTO에 전략추가
// 3. 기존 데이터 삭제 (pk가 겹치는 경우 UNIQUE 에러 방지) DELETE FROM mvc_product_tbl;
// 4. 기존 데이터때문에 시퀀스 번호가 1번부터가 아닌 경우, 시퀀스를 드롭하고 (DROP SEQUENCE 시퀀스명) 다시 CREATE 한다.
